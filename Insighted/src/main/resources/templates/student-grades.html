<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Grades - InsightEd Platform</title>
  <link rel="stylesheet" th:href="@{/css/style.css}">
</head>

<body>
<!-- Sidebar -->
<div th:insert="sidebar.html"></div>

<!-- Main Content -->
<main class="main-content">
  <section id="grades-section" class="dashboard-section">
    <div class="flex justify-between items-center mb-4">
      <h1>Grades</h1>

    </div>

    <!-- Grade Overview Cards -->
    <div class="features-grid mb-4">
      <div class="card">
        <div class="card-header">
          <h3 class="card-title">Highest Grade</h3>
          <p class="card-description">Fall 2025</p>
        </div>
        <div style="font-size: 2rem; font-weight: 700; color: var(--success);" th:text="${highestGrade}">3.82</div>
      </div>

      <div class="card">
        <div class="card-header">
          <h3 class="card-title">Average Grade</h3>
          <p class="card-description">Overall (All subjects)</p>
        </div>
        <div style="font-size: 2rem; font-weight: 700; color: var(--primary-blue);" th:text="${avgGrade}">3.75</div>
      </div>

      <div class="card">
        <div class="card-header">
          <h3 class="card-title">Lowest Grade</h3>
          <p class="card-description">Fall 2025</p>
        </div>
        <div style="font-size: 2rem; font-weight: 700; color: var(--warning);" th:text="${lowestGrade}">67</div>
      </div>
    </div>

    <!-- Course Grades Table -->
    <div class="table-container">
      <div style="padding: 1.5rem; border-bottom: 1px solid var(--gray-200);">
        <h3>Grades Overview</h3>
      </div>
      <table class="table">
        <thead>
        <tr>
          <th>Course</th>
          <th>Assignment Title</th>
          <th>Professor</th>
          <th>Grade</th>
          <th>Returned At</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="assignment : ${assignments}">
          <td>
            <div>
              <div style="font-weight: 600;" th:text="${assignment.subject}">CS 101 - Introduction to Computer Science</div>
            </div>
          </td>
          <td th:text="${assignment.title}">Title</td>
          <td th:text="${assignment.teacher.firstName} + ${assignment.teacher.lastName}">Prof. Sarah Johnson</td>
          <td>
            <div style="display: flex; align-items: center; gap: 0.5rem;">
              <span style="font-weight: 600; color: var(--success);" th:text="${assignment.grade != null ? assignment.grade : 'Not Graded Yet'}">A-</span>
            </div>
          </td>
          <td th:text="${assignment.reviewedAt != null ? #temporals.format(assignment.reviewedAt, 'yyyy-MM-dd') : 'To be reviewed'}">-</td>
        </tr>

        </tbody>
      </table>
    </div>

    <!-- Grade Trend Chart Placeholder -->
    <div class="card" style="margin-top: 1.5rem;">
      <div class="card-header">
        <h3 class="card-title">ðŸ“ˆ Grade Trends</h3>
        <p class="card-description">Your academic performance over time</p>
      </div>
      <div style="padding: 2rem; text-align: center; background: var(--gray-50); border-radius: var(--border-radius);">
        <div style="font-size: 3rem; margin-bottom: 1rem;">ðŸ“Š</div>
        <p style="color: var(--gray-600); margin: 0;">Grade trend visualization would appear here</p>
        <p style="color: var(--gray-500); font-size: 0.875rem; margin: 0.5rem 0 0;">Interactive charts showing semester-wise performance</p>
      </div>
    </div>
  </section>
</main>

<!-- Footer -->
<div th:insert="sidebar.html"></div>

<script th:src="@{/scripts/script.js}"></script>
</body>

</html>
